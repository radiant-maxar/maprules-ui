<div class="content-group">
  <div class='content-header'>
    <label class="content-label">
      <h5>{{ config.label }}</h5>
    </label>
  </div>
  <div class="content-body">
    <div class="row">
      <div class="col-md-12">
        <ng-container [formGroup]="attribution.form">
          <ng-container formArrayName="presets">
            <ng-container *ngFor="let preset of attribution.form.controls.presets.controls; let i=index">
              <div class="preset-card row">
                <div class="col-md-12 preset-card-header">
                  <div class="d-flex flex-row">
                    <div class="mr-auto preset-features-header p-3">
                      <ng-container feature class="features-header" field="name" type="light" [group]="attribution.form"
                        [nestedGroupIndex]="i">
                      </ng-container>
                    </div>
                    <div class="preset-accordion-button-container">
                      <button 
                        class="form-control btn preset-accordion-button" 
                        (click)="animateAccordion($event, i)" type="button">
                        <i   
                          id="preset-accordion-toggler-{{i}}"
                          class="fa fa-plus-square-o"></i>
                      </button>
                    </div>
                    <div class="preset-accordion-button-container">
                      <button class="form-control btn preset-accordion-button" type="button" (click)="removeFeatureCard(i)">
                        <i class="fa fa-trash-o"> </i>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="col-md-12 preset-card-panel" id="preset-card-panel-{{i}}">
                  <app-feature [config]=config [preset]=preset [i]=i></app-feature>
                </div>
              </div>
            </ng-container>
          </ng-container>
        </ng-container>
      </div>
      <div class='col-md-12 feature-content'>
        <div class="d-flex flex-row-reverse">
          <button class="btn btn-light feature-button feature-button-round features-button" type="button" (click)="addFeatureCard()"
            data-toggle="tooltip" data-placement="bottom" title="{{config.hint}}">
            <i class="fa fa-plus"> </i> Add Preset
          </button>
        </div>
      </div>
    </div>
  </div>
</div>